# 수납 등록 화면 - 사용자 인수 테스트 (UAT)

- **화면 ID**: `payment_form_screen`
- **화면 경로**: `/payment/new` (또는 `/revenue/payment/new`)

## 1. 화면 개요

신규 수납(결제) 내역을 등록하고, 해당 금액을 미납 청구서에 자동 또는 수동으로 배분하는 화면입니다.

## 2. 테스트 시나리오 (기본 정보 및 자동 배분)

| 테스트 ID | 테스트 설명 | 테스트 절차 | 예상 결과 | 실제 결과 | 통과/실패 |
|---|---|---|---|---|---|
| **UAT-PAY_FORM-001** | **필수 필드 유효성 검사** | 1. '임차인', '수납 금액'을 입력하지 않고 '수납 등록' 버튼 클릭 | 1. 각 필드 하단에 "선택해주세요" 또는 "입력해주세요" 오류 메시지 표시 | | |
| **UAT-PAY_FORM-002** | **자동 배분 미리보기** | 1. (데이터 준비) 특정 임차인에게 미납 청구서 2건 생성<br>2. '기본 정보' 탭에서 해당 임차인 선택<br>3. '수납 금액'에 첫 번째 미납 청구서 금액보다 큰 금액 입력<br>4. '배분 설정' 탭으로 이동 | 1. '자동 배분'이 기본으로 선택되어 있음<br>2. '자동 배분 미리보기' 카드에 배분 요약(총액, 배분액, 잔여액)이 표시됨<br>3. 배분 상세 내역에 첫 번째 청구서는 전액, 두 번째 청구서는 일부 금액이 배분된 것으로 표시됨 | | |
| **UAT-PAY_FORM-003** | **자동 배분으로 수납 등록** | 1. `UAT-PAY_FORM-002` 상태에서 하단의 '수납 등록' 버튼 클릭 | 1. "수납이 성공적으로 등록되었습니다!" 스낵바 표시<br>2. 수납 내역 목록 화면으로 이동<br>3. 청구서 목록에서 해당 청구서들의 상태가 '완납' 또는 '부분납부'로 변경됨 | | |

## 3. 테스트 시나리오 (수동 배분)

| 테스트 ID | 테스트 설명 | 테스트 절차 | 예상 결과 | 실제 결과 | 통과/실패 |
|---|---|---|---|---|---|
| **UAT-PAY_FORM-004** | **수동 배분 전환** | 1. '배분 설정' 탭에서 '수동 배분' 라디오 버튼 선택 | 1. 자동 배분 미리보기 카드가 사라짐<br>2. '수동 배분 설정' 카드가 나타나고 '청구서 추가' 버튼이 보임 | | |
| **UAT-PAY_FORM-005** | **수동 배분 - 청구서 추가** | 1. `UAT-PAY_FORM-004` 상태에서 '청구서 추가' 버튼 클릭<br>2. '청구서 선택' 대화상자에서 특정 미납 청구서의 '추가' 버튼 클릭<br>3. '배분 금액 입력' 대화상자에서 금액 입력 후 '추가' 클릭 | 1. '청구서 선택' 대화상자에 해당 임차인의 미납 청구서 목록이 표시됨<br>2. '수동 배분 설정' 카드에 방금 추가한 청구서와 배분 금액이 표시됨 | | |
| **UAT-PAY_FORM-006** | **수동 배분 - 항목 수정/삭제** | 1. `UAT-PAY_FORM-005` 상태에서 추가된 항목의 수정(연필)/삭제(휴지통) 아이콘 클릭 | 1. **수정**: 배분 금액 수정 대화상자가 열리고, 금액 변경 후 저장 시 목록에 반영됨<br>2. **삭제**: 해당 항목이 즉시 목록에서 사라짐 | | |
| **UAT-PAY_FORM-007** | **수동 배분으로 수납 등록** | 1. 수동으로 1개 이상의 청구서에 배분 항목을 추가<br>2. 하단의 '수납 등록' 버튼 클릭 | 1. "수납이 성공적으로 등록되었습니다!" 스낵바 표시<br>2. 수납 내역 목록 화면으로 이동<br>3. 수동으로 배분한 청구서들의 상태만 변경됨 | | |
| **UAT-PAY_FORM-008** | **취소 버튼 동작** | 1. 폼에 일부 내용을 입력<br>2. 하단의 '취소' 버튼 클릭 | 1. 변경사항은 저장되지 않고 이전 화면으로 이동 | | |
